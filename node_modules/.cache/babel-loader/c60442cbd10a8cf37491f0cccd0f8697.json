{"ast":null,"code":"var _jsxFileName = \"/home/solo/codesandbox/e-starter-react/src/Products.js\",\n    _s = $RefreshSig$();\n\nimport { checkItem } from \"./utils\";\nimport { useData } from \"./data-context\";\nimport { ADD_CART_ITEM, ADD_WISHLIST_ITEM, REMOVE_WISHLIST_ITEM } from \"./data-reducer\";\nimport { useProducts } from \"./products-context\";\nimport { INCLUDE_OUT_OF_STOCK, ONLY_FAST_DELIVERY, SORT_BY_PRICE } from \"./products-reducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar highToLow = \"highToLow\";\nvar lowToHigh = \"lowToHigh\";\n\nvar transformProducts = function transformProducts(state) {\n  // sorting\n  var sortVal = state[SORT_BY_PRICE];\n  var sortedProducts = state.products;\n\n  if (sortVal) {\n    sortedProducts = state.products.sort(function (a, b) {\n      return sortVal === highToLow ? b.price - a.price : a.price - b.price;\n    });\n  } // filter based on stock\n\n\n  var filteredProducts = sortedProducts;\n\n  if (!state[INCLUDE_OUT_OF_STOCK]) {\n    filteredProducts = sortedProducts.filter(function (product) {\n      return product.inStock;\n    });\n  } //filter based on dilevery\n\n\n  var finalProducts = filteredProducts;\n\n  if (state[ONLY_FAST_DELIVERY]) {\n    finalProducts = filteredProducts.filter(function (products) {\n      return products.fastDelivery;\n    });\n  }\n\n  return finalProducts;\n};\n\nexport function Products(_ref) {\n  _s();\n\n  var _this = this;\n\n  var setRoute = _ref.setRoute;\n\n  var _useData = useData(),\n      cartItems = _useData.cartItems,\n      wishlist = _useData.wishlist,\n      dataDispatch = _useData.dataDispatch;\n\n  var _useProducts = useProducts(),\n      productsState = _useProducts.productsState,\n      productsDispatch = _useProducts.productsDispatch;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Ye saare Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-1\",\n      children: [\"Price:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        checked: productsState[SORT_BY_PRICE] === highToLow,\n        type: \"radio\",\n        name: SORT_BY_PRICE,\n        id: highToLow,\n        onChange: function onChange() {\n          productsDispatch({\n            type: SORT_BY_PRICE,\n            value: highToLow\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: highToLow,\n        children: \"High to Low\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        checked: productsState[SORT_BY_PRICE] === lowToHigh,\n        style: {\n          marginLeft: \"0.5rem\"\n        },\n        type: \"radio\",\n        name: SORT_BY_PRICE,\n        id: lowToHigh,\n        onChange: function onChange() {\n          productsDispatch({\n            type: SORT_BY_PRICE,\n            value: lowToHigh\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: lowToHigh,\n        children: \"Low to High\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        checked: productsState[INCLUDE_OUT_OF_STOCK],\n        id: INCLUDE_OUT_OF_STOCK,\n        onChange: function onChange() {\n          productsDispatch({\n            type: INCLUDE_OUT_OF_STOCK\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: INCLUDE_OUT_OF_STOCK,\n        children: \"Include Out of Stock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          marginLeft: \"0.5rem\"\n        },\n        type: \"checkbox\",\n        checked: productsState[ONLY_FAST_DELIVERY],\n        id: ONLY_FAST_DELIVERY,\n        onChange: function onChange() {\n          productsDispatch({\n            type: ONLY_FAST_DELIVERY\n          });\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: ONLY_FAST_DELIVERY,\n        children: \"Fast Delivery only\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App flex\",\n      style: {\n        flexWrap: \"wrap\",\n        justifyContent: \"center\"\n      },\n      children: transformProducts(productsState).map(function (_ref2) {\n        var id = _ref2.id,\n            name = _ref2.name,\n            image = _ref2.image,\n            price = _ref2.price,\n            productName = _ref2.productName,\n            inStock = _ref2.inStock,\n            level = _ref2.level,\n            fastDelivery = _ref2.fastDelivery;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card--shadow m-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img\",\n            src: image,\n            alt: productName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: {\n              fontSize: \"1.1rem\",\n              padding: \"0.4em\",\n              color: \"\".concat(checkItem(wishlist, id) ? \"red\" : \"grey\"),\n              background: \"white\"\n            },\n            className: \"btn-close btn-lg\",\n            onClick: function onClick() {\n              checkItem(wishlist, id) ? dataDispatch({\n                type: REMOVE_WISHLIST_ITEM,\n                id: id\n              }) : dataDispatch({\n                type: ADD_WISHLIST_ITEM,\n                item: {\n                  id: id,\n                  name: name,\n                  price: price,\n                  inStock: inStock,\n                  level: level,\n                  fastDelivery: fastDelivery,\n                  image: image\n                }\n              });\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-heart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\" \", name, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Rs. \", price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, _this), inStock && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" In Stock \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 27\n          }, _this), !inStock && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" Out of Stock \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 28\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: level\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, _this), fastDelivery ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" Fast Delivery \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \" 3 days minimum \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn bg-primary m-1\",\n            onClick: function onClick() {\n              checkItem(cartItems, id) ? setRoute(\"cart\") : dataDispatch({\n                type: ADD_CART_ITEM,\n                item: {\n                  id: id,\n                  name: name,\n                  price: price,\n                  inStock: inStock,\n                  level: level,\n                  fastDelivery: fastDelivery,\n                  image: image,\n                  qty: 1\n                }\n              });\n            },\n            children: checkItem(cartItems, id) ? \"Go to Cart\" : \"Add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, _this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Products, \"LBu14MQ/YbS0izjYDVRSx/o0Pew=\", false, function () {\n  return [useData, useProducts];\n});\n\n_c = Products;\n\nvar _c;\n\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"sources":["/home/solo/codesandbox/e-starter-react/src/Products.js"],"names":["checkItem","useData","ADD_CART_ITEM","ADD_WISHLIST_ITEM","REMOVE_WISHLIST_ITEM","useProducts","INCLUDE_OUT_OF_STOCK","ONLY_FAST_DELIVERY","SORT_BY_PRICE","highToLow","lowToHigh","transformProducts","state","sortVal","sortedProducts","products","sort","a","b","price","filteredProducts","filter","product","inStock","finalProducts","fastDelivery","Products","setRoute","cartItems","wishlist","dataDispatch","productsState","productsDispatch","type","value","marginLeft","flexWrap","justifyContent","map","id","name","image","productName","level","fontSize","padding","color","background","item","qty"],"mappings":"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","sourcesContent":["import { checkItem } from \"./utils\";\r\nimport { useData } from \"./data-context\";\r\nimport {\r\n  ADD_CART_ITEM,\r\n  ADD_WISHLIST_ITEM,\r\n  REMOVE_WISHLIST_ITEM\r\n} from \"./data-reducer\";\r\nimport { useProducts } from \"./products-context\";\r\nimport {\r\n  INCLUDE_OUT_OF_STOCK,\r\n  ONLY_FAST_DELIVERY,\r\n  SORT_BY_PRICE\r\n} from \"./products-reducer\";\r\n\r\nconst highToLow = \"highToLow\";\r\nconst lowToHigh = \"lowToHigh\";\r\n\r\nconst transformProducts = (state) => {\r\n  // sorting\r\n  const sortVal = state[SORT_BY_PRICE];\r\n  let sortedProducts = state.products;\r\n  if (sortVal) {\r\n    sortedProducts = state.products.sort((a, b) =>\r\n      sortVal === highToLow ? b.price - a.price : a.price - b.price\r\n    );\r\n  }\r\n  // filter based on stock\r\n  let filteredProducts = sortedProducts;\r\n  if (!state[INCLUDE_OUT_OF_STOCK]) {\r\n    filteredProducts = sortedProducts.filter((product) => product.inStock);\r\n  }\r\n  //filter based on dilevery\r\n  let finalProducts = filteredProducts;\r\n  if (state[ONLY_FAST_DELIVERY]) {\r\n    finalProducts = filteredProducts.filter(\r\n      (products) => products.fastDelivery\r\n    );\r\n  }\r\n  return finalProducts;\r\n};\r\nexport function Products({ setRoute }) {\r\n  const { cartItems, wishlist, dataDispatch } = useData();\r\n  const { productsState, productsDispatch } = useProducts();\r\n  return (\r\n    <>\r\n      <h1>Ye saare Products</h1>\r\n      <div className=\"m-1\">\r\n        Price:\r\n        <input\r\n          checked={productsState[SORT_BY_PRICE] === highToLow}\r\n          type=\"radio\"\r\n          name={SORT_BY_PRICE}\r\n          id={highToLow}\r\n          onChange={() => {\r\n            productsDispatch({\r\n              type: SORT_BY_PRICE,\r\n              value: highToLow\r\n            });\r\n          }}\r\n        />\r\n        <label htmlFor={highToLow}>High to Low</label>\r\n        <input\r\n          checked={productsState[SORT_BY_PRICE] === lowToHigh}\r\n          style={{ marginLeft: \"0.5rem\" }}\r\n          type=\"radio\"\r\n          name={SORT_BY_PRICE}\r\n          id={lowToHigh}\r\n          onChange={() => {\r\n            productsDispatch({\r\n              type: SORT_BY_PRICE,\r\n              value: lowToHigh\r\n            });\r\n          }}\r\n        />\r\n        <label htmlFor={lowToHigh}>Low to High</label>\r\n      </div>\r\n      <div className=\"mb-1\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={productsState[INCLUDE_OUT_OF_STOCK]}\r\n          id={INCLUDE_OUT_OF_STOCK}\r\n          onChange={() => {\r\n            productsDispatch({\r\n              type: INCLUDE_OUT_OF_STOCK\r\n            });\r\n          }}\r\n        />\r\n        <label htmlFor={INCLUDE_OUT_OF_STOCK}>Include Out of Stock</label>\r\n        <input\r\n          style={{ marginLeft: \"0.5rem\" }}\r\n          type=\"checkbox\"\r\n          checked={productsState[ONLY_FAST_DELIVERY]}\r\n          id={ONLY_FAST_DELIVERY}\r\n          onChange={() => {\r\n            productsDispatch({\r\n              type: ONLY_FAST_DELIVERY\r\n            });\r\n          }}\r\n        />\r\n        <label htmlFor={ONLY_FAST_DELIVERY}>Fast Delivery only</label>\r\n      </div>\r\n      <div\r\n        className=\"App flex\"\r\n        style={{ flexWrap: \"wrap\", justifyContent: \"center\" }}\r\n      >\r\n        {transformProducts(productsState).map(\r\n          ({\r\n            id,\r\n            name,\r\n            image,\r\n            price,\r\n            productName,\r\n            inStock,\r\n            level,\r\n            fastDelivery\r\n          }) => (\r\n            <div key={id} className=\"card card--shadow m-1\">\r\n              <img className=\"img\" src={image} alt={productName} />\r\n              <button\r\n                style={{\r\n                  fontSize: \"1.1rem\",\r\n                  padding: \"0.4em\",\r\n                  color: `${checkItem(wishlist, id) ? \"red\" : \"grey\"}`,\r\n                  background: \"white\"\r\n                }}\r\n                className=\"btn-close btn-lg\"\r\n                onClick={() => {\r\n                  checkItem(wishlist, id)\r\n                    ? dataDispatch({\r\n                        type: REMOVE_WISHLIST_ITEM,\r\n                        id\r\n                      })\r\n                    : dataDispatch({\r\n                        type: ADD_WISHLIST_ITEM,\r\n                        item: {\r\n                          id,\r\n                          name,\r\n                          price,\r\n                          inStock,\r\n                          level,\r\n                          fastDelivery,\r\n                          image\r\n                        }\r\n                      });\r\n                }}\r\n              >\r\n                <i className=\"fa fa-heart\"></i>\r\n              </button>\r\n              <h3> {name} </h3>\r\n              <div>Rs. {price}</div>\r\n              {inStock && <div> In Stock </div>}\r\n              {!inStock && <div> Out of Stock </div>}\r\n              <div>{level}</div>\r\n              {fastDelivery ? (\r\n                <div> Fast Delivery </div>\r\n              ) : (\r\n                <div> 3 days minimum </div>\r\n              )}\r\n              <button\r\n                className=\"btn bg-primary m-1\"\r\n                onClick={() => {\r\n                  checkItem(cartItems, id)\r\n                    ? setRoute(\"cart\")\r\n                    : dataDispatch({\r\n                        type: ADD_CART_ITEM,\r\n                        item: {\r\n                          id,\r\n                          name,\r\n                          price,\r\n                          inStock,\r\n                          level,\r\n                          fastDelivery,\r\n                          image,\r\n                          qty: 1\r\n                        }\r\n                      });\r\n                }}\r\n              >\r\n                {checkItem(cartItems, id) ? \"Go to Cart\" : \"Add to cart\"}\r\n              </button>\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}